# @package _global_
# defaults:

# define sweep paramters  
hydra:
  sweeper:
    params:
      # data curriculum
      data_curriculum.difficulty_scorer_name: 
        "self_perplexity"
      data_curriculum.difficulty_scorer_kwargs.n_gram: 
        range(1, 4)
      data_curriculum.difficulty_scorer_kwargs.update: 
        1000
      data_curriculum.pacing_fn_name: 
        choice("linear", "quad", "root", "step", "exp", "log", None)
      data_curriculum.pacing_fn_kwargs.start_percent: 
        range(0.1, 1.0, 0.1)
      data_curriculum.pacing_fn_kwargs.end_percent:
        range(0.1, 1.0, 0.1)
      data_curriculum.pacing_fn_kwargs.starting_difficulty:
        range(0.1, 1.0,0.1)
      data_curriculum.pacing_fn_kwargs.max_difficulty:
        range(0.1, 1.0, 0.1)

      # objective curriculum
      objective_curriculum: 
        choice("base_mlm", "mlm_to_pos")
      
      # mlm task head
      objective_curriculum.units.mlm.mlm.mask_probability: 
        range(0.1, 0.5, 0.1)
      objective_curriculum.units.mlm.mlm.task_head_params.hidden_size:
        choice(128, 256, 512)
      objective_curriculum.units.mlm.mlm.optimizer_params.lr:
        range(1e-5, 1e-3, 1e-5)
   
      # pos task head
      objective_curriculum.units.pos.pos.mask_probability:
        range(0.1, 0.5, 0.1)
      objective_curriculum.units.pos.pos.optional_kwargs.lexical_class:
        choice(["NOUN"], ["VERB"],["NOUN", "VERB"])


      # switching off the vocabulary curriculum
      vocabulary_curriculum.pacing_fn_name: None


