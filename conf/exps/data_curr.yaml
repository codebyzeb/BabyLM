# @package _global_
# defaults:
  
hydra:
  sweeper:
    params:
      # data curriculum
      data_curriculum.difficulty_scorer_name: 
        "self_perplexity"
      data_curriculum.difficulty_scorer_kwargs.n_gram: 
        range(1, 4)
      data_curriculum.difficulty_scorer_kwargs.update: 
        1000
      data_curriculum.pacing_fn_name: 
        choice("linear", "quad", "root", "step", "exp", "log", None)
      data_curriculum.pacing_fn_kwargs.start_percent: 
        uniform(0.1, 1.0)
      data_curriculum.pacing_fn_kwargs.end_percent:
        uniform(0.1, 1.0)
      data_curriculum.pacing_fn_kwargs.starting_difficulty:
        uniform(0.1, 1.0)
      data_curriculum.pacing_fn_kwargs.max_difficulty:
        uniform(0.1, 1.0)

      # objective curriculum
      objective_curriculum: 
        choice("base_mlm", "mlm_to_pos")
      # mlm task head
      objective_curriculum.units.mlm.mlm.mask_probability: 
        uniform(0.1, 0.5)
      objective_curriculum.units.mlm.mlm.task_head_params.hidden_size:
        choice(128, 256, 512)
      objective_curriculum.units.mlm.mlm.optimizer_params.lr:
        uniform(1e-5, 1e-3)
      objective_curriculum.units.mlm.mlm.scheduler_params:
        {}
      # pos task head
      objective_curriculum.units.pos.pos.task_head_params.hidden_size:
        choice(128, 256, 512)


      # switching off the vocabulary curriculum
      vocabulary_curriculum.pacing_fn_name: None


